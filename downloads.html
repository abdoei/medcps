<!DOCTYPE html>
<html lang="en">
<title>Medical Cyber-Physical Systems at Penn</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="assets/css/bootstrap/css/bootstrap.css">
<link rel="stylesheet" href="assets/css/style.css">
<link rel="stylesheet" href="assets/css/header.css">
<link rel="stylesheet" href="assets/css/font-awesome/css/font-awesome.css">

<body>

<!--=== Header ===-->    
<div class="header">
    <div class="navbar navbar-default" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand" href="index.html"><img id="logo-header" src="assets/img/logo.png" alt="Logo"></a>
            </div>

            <div>
                <ul class="nav navbar-nav navbar-right">
                    <li class="dropdown active"><a href="index.html">Home</a></li>

                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown" data-delay="0" data-close-others="false">Research<i class="icon-angle-down"></i></a>
                        <ul class="dropdown-menu">
                            <li><a href="patient_specific_heart_modeling.html" target="_blank">Patient-specific Heart Modeling</a></li>
                            <li><a href="fiber_effect.html" target="_blank">Myocardial Fiber Effects on Arrhythmia Activation Patterns</a></li>
                            <li><a href="VHM.html" target="_blank">Heart Modeling for Closed-loop Evaluation of Pacemakers</a></li>
                            <li><a href="verification.html" target="_blank">Pacemaker Software Verification</a></li>
                            <li><a href="MBD.html" target="_blank">Model-based Design for Medical Device Software</a></li>
                            <li><a href="MBCT.html" target="_blank">Computer-Aided Clinical Trials</a></li>
                            <li><a href="physiology.html" target="_blank">Physiological Control Systems</a></li>
                        </ul>
                    </li>

                    <li class="dropdown"><a href="publications.html">Publications</a></li>

                    <li class="dropdown"><a href="people.html">People</a></li>

                    <li class="dropdown"><a href="awards.html">Awards</a></li>

                    <li class="dropdown"><a href="downloads.html">Downloads</a></li>
                    
                    </li>
                    <li class="dropdown"><a href="faq.html" target="_self">FAQ</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>

<div class="breadcrumbs margin-bottom-40">
    <div class="container">
        <h1 class="pull-left">Downloads</h1>
    </div>
</div>

<!--=== Content Part ===-->
<div class="container">	
<p>Thank you for your interest in Penn Virtual Heart Model. VHM is developed in Matlab/Simulink. The <a href="#matlab" class="color-green1">Matlab version</a> is more easy and flexible to work with. The <a href="#simulink" class="color-green1">Simulink version</a> can be translated into Verilog implementation using HDL coder. The parameters for different case studies can be found <a href="#case">here</a>.</p>
<div class="headline"><h2><a id="matlab" name="matlab"></a>VHM Matlab code</h2></div>
<hr />
<p>Current version: v1.0</p>
<p>Released Date: 04/09/11</p>
<ul class="list-unstyled">
<li>
<h4><i class="icon-hand-right color-green"></i>Whole package</h4>
</li>
</ul>
<p>A simulation environment has been developed in Matlab. User can create, modify and save test cases as well as simulating electrogram signals and deliver programmed pacing at run-time. A tutorial of how to use the simulation environment is coming soon. The whole package including basic code and one case study can be downloaded <a href="assets/downloads/vhm/VHM_Matlab_v1.0.zip" class="color-green1">here</a>.</p>

<ul class="list-unstyled">
<li>
<h4><i class="icon-hand-right color-green"></i>Individual files</h4>
</li>
</ul>
<p>User can also use individual files to create their own application.</p>
<p><a href="assets/downloads/vhm/heart_model.m" class="color-green1">heart_model.m</a>: The main VHM code. Requires <a href="assets/downloads/vhm/node_automatron.m" class="color-green1">node_automaton.m</a> and <a href="assets/downloads/vhm/path_automatron.m" class="color-green1">path_automaton.m</a></p>
<p><a href="assets/downloads/vhm/functional_sensing.m" class="color-green1">functional_sensing.m</a>: The probe model which generate synthetic Electrogram</p>
<p><a href="assets/downloads/vhm/pacemaker_new.m" class="color-green1">pacemaker_new.m</a>: The most up-to-date DDD pacemaker model including Mode-Switch and Ventricle Safety Pacing. Need to load <a href="assets/downloads/vhm/pace_param.mat" class="color-green1">pace_param.m</a>.</p>
<div class="headline"><h2><a id="case" name="case"></a>Case Studies</h2></div>
<hr />
<p>The parameters for each case studies are stored as .mat format. It can be loaded into the simulation environment. The file includes parameters for node and path automata as well as probe configurations.  We will keep updating new case studies when they are available.</p>
<p><a href="assets/downloads/vhm/EP_AVNRT.mat" class="color-green1">04/09/11: Atrioventricular Nodal Reentry Tachycardia (AVNRT)</a></p>
<p><a href="assets/downloads/vhm/AFlutter.mat" class="color-green1">04/13/11: Atrial Flutter</a></p>
<p><a href="assets/downloads/vhm/Wenckbach.mat" class="color-green1">04/13/11: Wenckebach-type A-V nodal response</a></p>
<div class="headline"><h2><a id="simulink" name="simulink"></a>VHM Simulink code</h2>
</div>
<p>Current version: V1.0</p>
<p>Released on 03/23/12</p>
<p>Since FPGA platform doesn not support division operator, the calculations for conduction velocity and refractory period cannot be directly adapted. We are working on a LUT based solution for this problem. In this version, we present a Simulink implementation of VHM with simplified transitions. A minimum topology has been adapted to be able to simulate NSR, Bradycardia, Bradycardia with A-V block. By deliver PAC and PVC, the VHM can be triggered into Atrial Flutter and ELT. </p>
<ul>
<li><a href="assets/downloads/vhm/VHM_Sim_v1.zip" class="color-green1">Simulation package</a></li>
<ul>
<li>Minimum Configuration VHM</li>
<li>Matlab GUI with case switch and PAC/PVC delivery</li>
<li>Simple Pacemaker model</li>
</ul>
</ul>
<p>The same model can be used for HDL generation. The code generation package will be available in the next version.</p>
<div class="headline"><h2><a id="uppaal" name="uppaal"></a>Pacemaker UPPAAL code</h2>
</div>
The UPPAAL model of our pacemaker and the heart can be downloaded <a href="assets/downloads/vhm/PM_verify.zip" class="color-green1">here</a>.
<hr />
<p>Last updated: 01/29/14</p>

    
        <div class="clearfix"></div>
    </div>
</div><!--/container-->		
<!-- End Content Part -->

<!--=== Footer ===-->
<div class="footer">
	<div class="container">
		<div class="row">
			<div class="col-md-4 md-margin-bottom-40">
		        <div class="headline"><h2>About</h2></div>	
				<p class="margin-bottom-25 md-margin-bottom-40">The Medical Cyber-Physical System research in Penn is part of the <a href="http://precise.seas.upenn.edu/" target="_blank">PRECISE research group</a>.</p>	
			</div>
			
			<div class="col-md-4">
		        <div class="headline"><h2>Contact</h2></div>	
                <address class="md-margin-bottom-40">
                    University of Pennsylvania<br />
                    Levine building room 279<br />
					3330 Walnut Street<br />
					Philadelphia, PA, 19104<br />
					Email: rahulm@seas.upenn.edu
                </address>
		  </div>
		</div>
	</div>
</div>

<!--=== Copyright ===-->
<div class="copyright">
	<div class="container">
		<div class="row">
			<div class="col-md-6">						
	            <p class="copyright-space">
                <span id="year"></span> &copy; MedCPS. ALL Rights Reserved.</p>
			</div>
			<div class="col-md-6">	
				<a href="http://precise.seas.upenn.edu/">
                    <img src="assets/img/precise.png" alt="" width="255" height="65" class="pull-right" id="logo-footer" />
                </a>
			</div>
		</div>
	</div>
</div>

<script type="text/javascript" src="assets/css/jquery-1.10.2.min.js"></script>
<script type="text/javascript" src="assets/css/hover-dropdown.min.js"></script> 
<script>document.getElementById("year").innerHTML = new Date().getFullYear();</script>

</body>
</html>	